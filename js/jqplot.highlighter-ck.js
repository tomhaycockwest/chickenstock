/**
 * jqPlot
 * Pure JavaScript plotting plugin using jQuery
 *
 * Version: 1.0.0b2_r792
 *
 * Copyright (c) 2009-2011 Chris Leonello
 * jqPlot is currently available for use in all personal or commercial projects 
 * under both the MIT (http://www.opensource.org/licenses/mit-license.php) and GPL 
 * version 2.0 (http://www.gnu.org/licenses/gpl-2.0.html) licenses. This means that you can 
 * choose the license that best suits your project and use it accordingly. 
 *
 * Although not required, the author would appreciate an email letting him 
 * know of any substantial use of jqPlot.  You can reach the author at: 
 * chris at jqplot dot com or see http://www.jqplot.com/info.php .
 *
 * If you are feeling kind and generous, consider supporting the project by
 * making a donation at: http://www.jqplot.com/donate.php .
 *
 * sprintf functions contained in jqplot.sprintf.js by Ash Searle:
 *
 *     version 2007.04.27
 *     author Ash Searle
 *     http://hexmen.com/blog/2007/03/printf-sprintf/
 *     http://hexmen.com/js/sprintf.js
 *     The author (Ash Searle) has placed this code in the public domain:
 *     "This code is unrestricted: you are free to use it however you like."
 * 
 */(function(e){function i(t,n){var r=t.plugins.highlighter,i=t.series[n.seriesIndex],s=i.markerRenderer,o=r.markerRenderer;o.style=s.style;o.lineWidth=s.lineWidth+r.lineWidthAdjust;o.size=s.size+r.sizeAdjust;var u=e.jqplot.getColorComponents(s.color),a=[u[0],u[1],u[2]],f=u[3]>=.6?u[3]*.6:u[3]*(2-u[3]);o.color="rgba("+a[0]+","+a[1]+","+a[2]+","+f+")";o.init();o.draw(i.gridData[n.pointIndex][0],i.gridData[n.pointIndex][1],r.highlightCanvas._ctx)}function s(i,s,o){var u=i.plugins.highlighter,a=u._tooltipElem;if(u.useAxesFormatters){var f=s._xaxis._ticks[0].formatter,l=s._yaxis._ticks[0].formatter,h=s._xaxis._ticks[0].formatString,p=s._yaxis._ticks[0].formatString,v,m=f(h,o.data[0]),g=[];for(var y=1;y<u.yvalues+1;y++)g.push(l(p,o.data[y]));if(u.formatString)switch(u.tooltipAxes){case"both":case"xy":g.unshift(m);g.unshift(u.formatString);v=e.jqplot.sprintf.apply(e.jqplot.sprintf,g);break;case"yx":g.push(m);g.unshift(u.formatString);v=e.jqplot.sprintf.apply(e.jqplot.sprintf,g);break;case"x":v=e.jqplot.sprintf.apply(e.jqplot.sprintf,[u.formatString,m]);break;case"y":g.unshift(u.formatString);v=e.jqplot.sprintf.apply(e.jqplot.sprintf,g);break;default:g.unshift(m);g.unshift(u.formatString);v=e.jqplot.sprintf.apply(e.jqplot.sprintf,g)}else switch(u.tooltipAxes){case"both":case"xy":v=m;for(var y=0;y<g.length;y++)v+=u.tooltipSeparator+g[y];break;case"yx":v="";for(var y=0;y<g.length;y++)v+=g[y]+u.tooltipSeparator;v+=m;break;case"x":v=m;break;case"y":v=g.join(u.tooltipSeparator);break;default:v=m;for(var y=0;y<g.length;y++)v+=u.tooltipSeparator+g[y]}}else{var v;u.tooltipAxes=="both"||u.tooltipAxes=="xy"?v=e.jqplot.sprintf(u.tooltipFormatString,o.data[0])+u.tooltipSeparator+e.jqplot.sprintf(u.tooltipFormatString,o.data[1]):u.tooltipAxes=="yx"?v=e.jqplot.sprintf(u.tooltipFormatString,o.data[1])+u.tooltipSeparator+e.jqplot.sprintf(u.tooltipFormatString,o.data[0]):u.tooltipAxes=="x"?v=e.jqplot.sprintf(u.tooltipFormatString,o.data[0]):u.tooltipAxes=="y"&&(v=e.jqplot.sprintf(u.tooltipFormatString,o.data[1]))}e.isFunction(u.tooltipContentEditor)&&(v=u.tooltipContentEditor(v,o.seriesIndex,o.pointIndex,i));a.html(v);var w={x:o.gridData[0],y:o.gridData[1]},E=0,S=.707;s.markerRenderer.show==1&&(E=(s.markerRenderer.size+u.sizeAdjust)/2);var x=t;s.fillToZero&&s.fill&&o.data[1]<0&&(x=r);switch(x[n[u.tooltipLocation]]){case"nw":var T=w.x+i._gridPadding.left-a.outerWidth(!0)-u.tooltipOffset-S*E,N=w.y+i._gridPadding.top-u.tooltipOffset-a.outerHeight(!0)-S*E;break;case"n":var T=w.x+i._gridPadding.left-a.outerWidth(!0)/2,N=w.y+i._gridPadding.top-u.tooltipOffset-a.outerHeight(!0)-E;break;case"ne":var T=w.x+i._gridPadding.left+u.tooltipOffset+S*E,N=w.y+i._gridPadding.top-u.tooltipOffset-a.outerHeight(!0)-S*E;break;case"e":var T=w.x+i._gridPadding.left+u.tooltipOffset+E,N=w.y+i._gridPadding.top-a.outerHeight(!0)/2;break;case"se":var T=w.x+i._gridPadding.left+u.tooltipOffset+S*E,N=w.y+i._gridPadding.top+u.tooltipOffset+S*E;break;case"s":var T=w.x+i._gridPadding.left-a.outerWidth(!0)/2,N=w.y+i._gridPadding.top+u.tooltipOffset+E;break;case"sw":var T=w.x+i._gridPadding.left-a.outerWidth(!0)-u.tooltipOffset-S*E,N=w.y+i._gridPadding.top+u.tooltipOffset+S*E;break;case"w":var T=w.x+i._gridPadding.left-a.outerWidth(!0)-u.tooltipOffset-E,N=w.y+i._gridPadding.top-a.outerHeight(!0)/2;break;default:var T=w.x+i._gridPadding.left-a.outerWidth(!0)-u.tooltipOffset-S*E,N=w.y+i._gridPadding.top-u.tooltipOffset-a.outerHeight(!0)-S*E}a.css("left",T);a.css("top",N);u.fadeTooltip?a.stop(!0,!0).fadeIn(u.tooltipFadeSpeed):a.show();a=null}function o(e,t,n,r,o){var u=o.plugins.highlighter,f=o.plugins.cursor;if(u.show)if(r==null&&u.isHighlighting){var l=u.highlightCanvas._ctx;l.clearRect(0,0,l.canvas.width,l.canvas.height);u.fadeTooltip?u._tooltipElem.fadeOut(u.tooltipFadeSpeed):u._tooltipElem.hide();u.bringSeriesToFront&&o.restorePreviousSeriesOrder();u.isHighlighting=!1;l=null}else if(r!=null&&o.series[r.seriesIndex].showHighlight&&!u.isHighlighting){u.isHighlighting=!0;u.showMarker&&i(o,r);u.showTooltip&&(!f||!f._zoom.started)&&s(o,o.series[r.seriesIndex],r);u.bringSeriesToFront&&o.moveSeriesToFront(r.seriesIndex)}}e.jqplot.eventListenerHooks.push(["jqplotMouseMove",o]);e.jqplot.Highlighter=function(t){this.show=e.jqplot.config.enablePlugins;this.markerRenderer=new e.jqplot.MarkerRenderer({shadow:!1});this.showMarker=!0;this.lineWidthAdjust=2.5;this.sizeAdjust=5;this.showTooltip=!0;this.tooltipLocation="nw";this.fadeTooltip=!0;this.tooltipFadeSpeed="fast";this.tooltipOffset=2;this.tooltipAxes="both";this.tooltipSeparator=", ";this.tooltipContentEditor=null;this.useAxesFormatters=!0;this.tooltipFormatString="%.5P";this.formatString=null;this.yvalues=1;this.bringSeriesToFront=!1;this._tooltipElem;this.isHighlighting=!1;e.extend(!0,this,t)};var t=["nw","n","ne","e","se","s","sw","w"],n={nw:0,n:1,ne:2,e:3,se:4,s:5,sw:6,w:7},r=["se","s","sw","w","nw","n","ne","e"];e.jqplot.Highlighter.init=function(t,n,r){var i=r||{};this.plugins.highlighter=new e.jqplot.Highlighter(i.highlighter)};e.jqplot.Highlighter.parseOptions=function(e,t){this.showHighlight=!0};e.jqplot.Highlighter.postPlotDraw=function(){if(this.plugins.highlighter&&this.plugins.highlighter.highlightCanvas){this.plugins.highlighter.highlightCanvas.resetCanvas();this.plugins.highlighter.highlightCanvas=null}if(this.plugins.highlighter&&this.plugins.highlighter._tooltipElem){this.plugins.highlighter._tooltipElem.emptyForce();this.plugins.highlighter._tooltipElem=null}this.plugins.highlighter.highlightCanvas=new e.jqplot.GenericCanvas;this.eventCanvas._elem.before(this.plugins.highlighter.highlightCanvas.createElement(this._gridPadding,"jqplot-highlight-canvas",this._plotDimensions,this));this.plugins.highlighter.highlightCanvas.setContext();var t=document.createElement("div");this.plugins.highlighter._tooltipElem=e(t);t=null;this.plugins.highlighter._tooltipElem.addClass("jqplot-highlighter-tooltip");this.plugins.highlighter._tooltipElem.css({position:"absolute",display:"none"});this.eventCanvas._elem.before(this.plugins.highlighter._tooltipElem)};e.jqplot.preInitHooks.push(e.jqplot.Highlighter.init);e.jqplot.preParseSeriesOptionsHooks.push(e.jqplot.Highlighter.parseOptions);e.jqplot.postDrawHooks.push(e.jqplot.Highlighter.postPlotDraw)})(jQuery);